<!DOCTYPE html>

<html>

<head>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="/css/normalize.css"/>
    <link rel="stylesheet" href="tabs.css" />
</head>

<body>
    <div class="panel">
        <div class="panel-section panel-section-header">
            <div class="text-section-header">
                <h1>Tab closer</h1></div>
        </div>

        <label for="add-group-name">Group name:</label>
        <input type="text" id="add-group-name" name="add-group-name"> 
        <button id="add-group-button">Add a group</button>

        <div id="tab-groups"></div>
    </div>
    <div class="panel panel-top-drop">
        <div id="drop-groups-shortcuts"></div>
    </div>

    <script id="group-template" type="x-tmpl-mustache">
        {{#groups}}
        <div class="group-box drop-target" data-group="{{id}}">
            <div class="groupHeader">
                <h2 class="group-title">
                    {{name}} ({{info}})
                </h2>
                <button class="extract-group">Extract</button>
                <button class="ungroup-group">Ungroup</button>
                <button class="close-group">Close</button>
            </div>
            <ul class="group-list">
                {{#subgroups}}
                    <li class="domainList" draggable="true" data-domain="{{id}}">
                        {{name}}
                        <ul>
                            {{#items}}
                            <li class="tabList">
                                {{#pinned}}
                                <span class="lock locked locked-pinned" data-url="{{url}}">&#x1F512;&#xFE0E;</span>
                                {{/pinned}}
                                {{^pinned}}
                                {{#locked}}
                                <span class="lock locked" data-url="{{url}}">&#x1F512;&#xFE0E;</span>
                                {{/locked}}
                                {{^locked}}
                                <span class="lock unlocked" data-url="{{url}}">&#x1F513;&#xFE0E;</span>
                                {{/locked}}
                                {{/pinned}}
                                <a href="{{url}}" class="switch-tabs" draggable="false" data-tab-id="{{id}}">{{title}}</a>
                                {{#duplicate}}
                                <span class="duplicate-tab">duplicate</span>
                                {{/duplicate}}
                                <span class="date access-date">{{lastAccessed}}</span>
                                <span class="date update-date">{{lastUpdated}}</span>
                            </li>
                            {{/items}}
                        </ul>
                    </li>
                {{/subgroups}}
            </ul>
        </div>
        {{/groups}}
    </script>

    <script id="group-shortcut-template" type="x-tmpl-mustache">
        {{#groups}}
        <div class="group-shortcut drop-target" data-group="{{id}}">
            {{name}}
        </div>
        {{/groups}}
    </script>

    <script src="/js/polyfill/browser-polyfill.js"></script>
    <script src="/js/mustache/mustache.js"></script>
    <script type="module" src="tabs.js"></script>
</body>

</html> 